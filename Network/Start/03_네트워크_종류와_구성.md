# 클라이언트 서버형과 피어 투 피어형

네트워크는 장치를 연결하는 방식에 따라 클라이언트-서버형과 피어 투 피어형 등으로 나눌 수 있다.

## 클라이언트-서버형 구조

> **메인 프레임** : 대용량의 메모리와 고속도의 처리 속도를 가졌으며 멀티유저 및 대규모 서버 인프라 구축용으로 사용되는 2m 정도의 초대형 컴퓨터이다. 주로 인구 조사, 공업/소비자 통계, 기업의 ERP, 금융 서비스, 데이터센터, 클라우드 컴퓨팅, 군사 서버 같은 중요하고, 막대한 처리량을 필요로 하며, 다수의 사용자가 동시에 작업할 수 있어야 하는 환경에 쓰인다. 
>
> **미니 컴퓨터** : 메인 프레임보다 더 작지만 개인용 컴퓨터보다는 큰 컴퓨터다. 대규모 데이터 처리, 과학 연구, 기업용 데이터베이스 등 특수한 목적에 활용된다.
>
> **워크 스테이션** : 전문적인 작업(금융 계산, 그래픽 작업, 과학 연산 등)을 하는 고성능 개인용 컴퓨터이다. 주로 서버용 CPU나 워크스테이션용 GPU를 장착한다.
>
> **서버 컴퓨터** : 서버용으로 설계된 컴퓨터다. 높은 안정성, 대용량의 데이터를 빠르게 처리하기 위한 컴퓨팅 능력, 가동하면서 발생하는 열을 효율적으로 배출할 수 있는 설계 등 서비스를 안정적으로 제공하는데 특화되어 있다.
> - 참고 : [서버와 일반 컴퓨터, 무엇이 다를까?](https://library.gabia.com/contents/infrahosting/794/)

클라이언트-서버형 구조는 미니컴퓨터나 워크스테이션 등이 발전하면서 함께 확산된 형태다. 

- `서버`
  - 서비스 제공
  - 이메일을 제공하는 메일 서버, 파일(스토리지)을 제공하는 파일 서버 등
- `클라이언트`
  - 서비스를 받는(요청하는) 쪽

서비스를 제공하는 서버 장치라도 다른 서버로부터 서비스를 제공받는 클라이언트가 되기도 한다.

## 피어 투 피어형의 필요성

인터넷은 클라이언트-서버 형태로 사용하는 것이 기본이지만, 서버를 거치지 않고 단말기끼리 직접 통신하는 것이 효율적일 때가 있다. 이러한 연결 방식을 `피어 투 피어(Peer to Peer, P2P)`라고 한다.

인터넷에서는 IP 주소와 전용 통신 앱 등을 사용하여 LAN의 단말기끼리 직접 연결할 수 있다.

# LAN

## 좁은 범위의 네트워크를 가리키는 LAN

- `LAN(Local Area Network)`
  - 일반적으로 같은 건물 내부나 같은 층 등 제한된 범위의 네트워크를 의미함
  - 본사와 지사 등 지리적으로 떨어져 있는 거점을 중앙에서 관리하고자 하나의 LAN으로 구성하기도 함

## LAN을 구성하는 장치와 프로토콜

- 구성
  - LAN을 구성하는 네트워크는 이더넷이 주류임
  - 각 장치를 연결할 때는 RJ-45 규격 커넥터(랜선) 사용

이더넷은 식별자로 MAC 주소를 사용한다. 그러나 실제로는 이더넷(데이터 링크 계층)의 상위 계층 프로토콜, TCP/IP(네트워크 계층)의 식별자인 **IP 주소**도 이용한다.

MAC 주소는 계층 구조가 없어 LAN 구성이나 관리가 번거롭다. 때문에 이더넷 프레임의 페이로드에 포함된 IP 주소를 사용해서 네트워크를 구성하는 `L3 스위치`를 이용한다. 원래 스위치는 2계층(L2) 장치로, MAC 주소만 식별할 수 있지만 L3 스위치는 IP 주소도 식별자로 이용할 수 있다.

> 구체적인 LAN의 실체
>
> **스위치**는 *LAN의 최소 단위를 구성*한다. L2 스위치로 묶인 LAN은 기본적으로 다른 스위치로 묶인 LAN과 통신할 수 없다.
>
> 이를 해결하기 위해 스위치 간 캐스케이드로 연결하거나 모든 장치를 연결할 수 있는 스위치를 이용한다. 하지만 캐스케이드는 연결에 대수 제한이 있고, 이들을 하나의 LAN으로 관리하는 것은 유지 보수가 번거롭고 보안상 문제가 될 수 있다. 그래서 L2 스위치를 묶어 다른 LAN 사이에서 **교통을 정리**하는 라우터(또는 L3) 스위치를 도입해서 대응한다.

# 이더넷

현재 LAN은 대부분 이더넷 표준을 사용한다.

## 이더넷의 기본 원리

사무실이나 연구실의 장치를 연결하는 네트워크로 개발되었다. *다수의 장치가 독자적인 타이밍에 통신을 시작*하는 것을 목표로 잡고 패킷 통신을 이용한 `랜덤 액세스 방식`을 채용했다.

- `랜덤 액세스 방식`
  - 전송 중일 때 다른 기기가 전송 중이면(충돌 탐지) 조금 기다린 후 재전송 시도
  - **CSMA/CD 방식** : 회선의 사용 상황을 탐지해서 재전송하는 방식
  - **CSMA/CA 방식** : 재전송 대기 시간에 재전송 횟수를 고려한 난수를 이용해 재전송 충돌률을 낮추는 방식

![CSMA/CD 방식](image-15.png)
(CSMA/CD 방식)

개발 당시에는 **태핑**(동축 케이블에 구멍을 내서 중심선에 직접 연결하는 방법)으로 각 기기를 연결하는 **버스형 네트워크**였지만, 전송 속도가 100Mbps(100BASE-T) 이상이면 CSMA/CD 방식이 제대로 작동하지 않는 문제가 있었다. 때문에 현재는 *스위치 허브를 이용하여 패킷 식별자로 목적지를 전환*하는 **스타형 네트워크**로 구성하고 있다.

## 이더넷 프레임의 구조

- `이더넷 프레임`
  - 이더넷으로 주고받는 데이터 덩어리
  - 필드 구성 : 출발지 식별자 정보, 목적지 식별자, 패킷 종류나 페이로드 프로토콜 정보(타입 필드), 페이로드, 체크섬
  - 이더넷 식별자는 MAC 주소를 이용함
  - 스위칭 허브는 이 MAC 주소를 참조해 어느 포트끼리 연결하면 좋을지 판단

# 무선 LAN

## 전파를 사용하는 무선 LAN의 장점과 단점

- `무선 LAN`
  - 케이블이 아니라 전파를 사용해서 무선으로 연결되는 LAN
  - 케이블의 제약 없이 전파가 닿는 범위 내에서 자유롭게 장치를 설치할 수 있음
  - 전파는 누군가 무단으로 가로챌 수 있는 위험이 있음
  - 무선 LAN에 연결하려면 SSID를 지정해서 액세스 포인트를 식별함
    - 브로드캐스트 되는 SSDI를 제한하는 기능(스텔스 SSID)도 있음
- 허용되지 않는 연결을 차단하는 방법
  - MAC 주소 인증
  - 무선 통신 암호화

## 무선 LAN의 보안 대책

일반적으로 무선 LAN은 **도청 위험**이 높다고 여겨지므로 앞서 언급한 *보안 기능이 프로토콜에 구현*되어 있다. 그러나 이들이 완전하지는 않다.

- MAC 주소 인증 -> 주소 테이블을 조사하는 프로토콜이 있음
- 스텔스 SSID -> 프로토콜을 알고 있으면 SSID를 알려 달라고 요청 가능
- 암호화 방식 -> 오래된 WEP 같은 것은 안전하지 않음

=> LAN 내 별도 인증 서버를 설치하는 등 사우이 계층에서 대책도 필요함