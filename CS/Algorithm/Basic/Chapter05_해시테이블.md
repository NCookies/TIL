## 해시 함수

`해시 함수(hash function)`는 `문자열(string)`을 받아서 숫자를 반환하는 함수이다. 해시 함수는 문자열에 대해 숫자를 `할당(mapping)` 한다.

- 항상 같은 이름에 대해서 항상 같은 인덱스를 할당한다.
- 다른 문자열에 대해서는 다른 인덱스를 할당한다.
- 배열이 얼마나 큰지 알고 있어야 하며, 유효한 인덱스만 반환해야 한다.

해시 함수와 배열을 합치면 `해시 테이블(hash table)` 자료구조를 얻을 수 있다. 해시 테이블은 해시 함수를 사용해서 더 총명하게 어디에 원소를 저장할지 결정한다. 해시 테이블은 `키(key)`와 `값(value)`을 가진다.

## 해시 테이블을 사용하는 예

- 어떤 것과 다른 것 사이의 관계를 모형화할 수 있다.
- 중복을 막을 수 있다.
- 서버에게 작업을 시키지 않고 자료를 캐싱할 수 있다.

## 충돌

해시 테이블의 성능을 이해하려면 우선 충돌에 대해 이해해야 한다.

두 개의 같은 키가 같은 공간에 할당되는 것을 `충돌(collision)`이라고 한다. 이를 해결하는 가장 간단한 방법은 같은 공간에 여러 개의 키를 연결리스트로 만들어 넣는 것이다. 그러나 이는 비효율적이다.

따라서 해시 함수는 이상적으로 키를 해시 테이블 전체에 고르게 할당해야 한다.

## 성능

$O(n)$은 `상수 시간(constant time)`이라고 한다. 즉, 해시 테이블은 크기에 상관없이 항상 똑같은 시간이 걸린다는 의미이다.

평균적인 경우, 해시 테이블의 성능은 $O(n)$이다. 배열과 연결리스트의 장점만 가져온 것이다. 그러나 최악의 경우에는 해시 테이블이 $O(n)$으로 가장 느리다.

최악의 상황이 발생하지 않도록 하려면 충돌을 피해야 하고, 이를 위해서는 다음과 같은 것이 필요하다.

- 낮은 사용률
- 좋은 해시 함수

### 사용률

해시 테이블의 사용률(load factor)은 `해시 테이블에 있는 항목의 수 / 해시 테이블에 있는 공간의 수`로 계산한다.

사용률이 1보다 크다는 것은 배열에 공간의 수보다 항목의 수가 많다는 뜻이다. 사용률이 커지기 시작하면 해시 테이블의 공간을 추가해야 하는데 이를 `리사이징(resizing)`이라고 한다. 리사이징은 매우 비싼 작업이므로 자주 하지 않는 것이 좋다.

### 좋은 해시 함수

좋은 해시 함수란 배열에 값을 고루 분포시키는 함수이다. 나쁜 해시 함수는 값들이 뭉쳐져 있어서 충돌이 자주 발생한다.